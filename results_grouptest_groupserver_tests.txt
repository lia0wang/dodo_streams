============================= test session starts ==============================
platform linux -- Python 3.7.3, pytest-6.2.5, py-1.10.0, pluggy-1.0.0 -- /usr/bin/python3
cachedir: .pytest_cache
hypothesis profile 'default' -> database=DirectoryBasedExampleDatabase('/tmp_amd/kamen/export/kamen/3/cs1531/project-automarking/tempstore/.hypothesis/examples')
rootdir: /tmp_amd/kamen/export/kamen/3/cs1531/project-automarking/tempstore, configfile: pytest.ini
plugins: forked-1.3.0, xdist-2.2.1, hypothesis-6.1.1, timeout-1.4.2
collecting ... collected 225 items

tests/auth_login_http_test.py::test_http_valid_login1 PASSED             [  0%]
tests/auth_login_http_test.py::test_http_valid_login2 PASSED             [  0%]
tests/auth_login_http_test.py::test_invalid_email1 PASSED                [  1%]
tests/auth_login_http_test.py::test_invalid_email2 PASSED                [  1%]
tests/auth_login_http_test.py::test_invalid_password PASSED              [  2%]
tests/auth_login_test.py::test_valid_login PASSED                        [  2%]
tests/auth_login_test.py::test_invalid_email PASSED                      [  3%]
tests/auth_login_test.py::test_invalid_password PASSED                   [  3%]
tests/auth_logout_http_test.py::test_register_logout PASSED              [  4%]
tests/auth_logout_http_test.py::test_register_login_logout PASSED        [  4%]
tests/auth_logout_http_test.py::test_function_use_after_logout PASSED    [  4%]
tests/auth_logout_http_test.py::test_session_leftover_after_logout PASSED [  5%]
tests/auth_reg_test.py::test_email_invalid PASSED                        [  5%]
tests/auth_reg_test.py::test_email_duplicate PASSED                      [  6%]
tests/auth_reg_test.py::test_password_short PASSED                       [  6%]
tests/auth_reg_test.py::test_name_first_long PASSED                      [  7%]
tests/auth_reg_test.py::test_name_last_long PASSED                       [  7%]
tests/auth_reg_test.py::test_name_first_short PASSED                     [  8%]
tests/auth_reg_test.py::test_name_last_short PASSED                      [  8%]
tests/auth_register_http_test.py::test_http_register_basic PASSED        [  8%]
tests/auth_register_http_test.py::test_http_register_basic2 PASSED       [  9%]
tests/auth_register_http_test.py::test_http_invalid_email PASSED         [  9%]
tests/auth_register_http_test.py::test_http_duplicate_email PASSED       [ 10%]
tests/auth_register_http_test.py::test_http_password_short PASSED        [ 10%]
tests/auth_register_http_test.py::test_http_name_first_long PASSED       [ 11%]
tests/auth_register_http_test.py::test_http_name_last_long PASSED        [ 11%]
tests/auth_register_http_test.py::test_http_name_first_short PASSED      [ 12%]
tests/auth_register_http_test.py::test_http_name_last_short PASSED       [ 12%]
tests/auth_register_http_test.py::test_handle_length_greater_than_20 PASSED [ 12%]
tests/channel_addowner_http_test.py::test_invalid_channel_id PASSED      [ 13%]
tests/channel_addowner_http_test.py::test_invalid_user_id PASSED         [ 13%]
tests/channel_addowner_http_test.py::test_none_exist_user PASSED         [ 14%]
tests/channel_addowner_http_test.py::test_add_exist_owner PASSED         [ 14%]
tests/channel_addowner_http_test.py::test_no_permission PASSED           [ 15%]
tests/channel_addowner_test.py::test_invalid_channel_id PASSED           [ 15%]
tests/channel_addowner_test.py::test_invalid_user_id PASSED              [ 16%]
tests/channel_addowner_test.py::test_non_exist_user PASSED               [ 16%]
tests/channel_addowner_test.py::test_add_exist_owner PASSED              [ 16%]
tests/channel_addowner_test.py::test_no_permission PASSED                [ 17%]
tests/channel_addowner_test.py::test_channel_addowner_basic PASSED       [ 17%]
tests/channel_details_http_test.py::test_http_details_multiple_members PASSED [ 18%]
tests/channel_details_http_test.py::test_http_details_one_member PASSED  [ 18%]
tests/channel_details_http_test.py::test_http_invalid_channel_id PASSED  [ 19%]
tests/channel_details_http_test.py::test_http_not_member PASSED          [ 19%]
tests/channel_details_http_test.py::test_http_details_multiple_channels PASSED [ 20%]
tests/channel_details_test.py::test_invalid_user PASSED                  [ 20%]
tests/channel_details_test.py::test_invalid_channel_id PASSED            [ 20%]
tests/channel_details_test.py::test_not_member PASSED                    [ 21%]
tests/channel_details_test.py::test_one_member_details PASSED            [ 21%]
tests/channel_details_test.py::test_multiple_members_details PASSED      [ 22%]
tests/channel_details_test.py::test_multiple_channels_details PASSED     [ 22%]
tests/channel_invite_http_test.py::test_http_channel_invite_basic PASSED [ 23%]
tests/channel_invite_http_test.py::test_http_invalid_channel_id PASSED   [ 23%]
tests/channel_invite_http_test.py::test_http_invalid_u_id PASSED         [ 24%]
tests/channel_invite_http_test.py::test_http_user_is_member PASSED       [ 24%]
tests/channel_invite_http_test.py::test_http_auth_is_not_member PASSED   [ 24%]
tests/channel_invite_test.py::test_valid_input PASSED                    [ 25%]
tests/channel_invite_test.py::test_invalid_channel PASSED                [ 25%]
tests/channel_invite_test.py::test_invalid_user PASSED                   [ 26%]
tests/channel_invite_test.py::test_repeated_user PASSED                  [ 26%]
tests/channel_invite_test.py::test_unauthorised_user PASSED              [ 27%]
tests/channel_join_http_test.py::test_http_channel_join_basic PASSED     [ 27%]
tests/channel_join_http_test.py::test_http_invalid_channel_id PASSED     [ 28%]
tests/channel_join_http_test.py::test_join_private_channel PASSED        [ 28%]
tests/channel_join_http_test.py::test_http_none_existing_channel PASSED  [ 28%]
tests/channel_join_http_test.py::test_http_global_owner PASSED           [ 29%]
tests/channel_join_http_test.py::test_http_duplicated_joins PASSED       [ 29%]
tests/channel_join_test.py::test_global_owner PASSED                     [ 30%]
tests/channel_join_test.py::test_none_existing_channel PASSED            [ 30%]
tests/channel_join_test.py::test_invalid_uid PASSED                      [ 31%]
tests/channel_join_test.py::test_join_private_channel PASSED             [ 31%]
tests/channel_join_test.py::test_duplicated_joins PASSED                 [ 32%]
tests/channel_join_test.py::test_invalid_channel_id PASSED               [ 32%]
tests/channel_leave_http_test.py::test_http_invalid_channel_id PASSED    [ 32%]
tests/channel_leave_http_test.py::test_http_user_is_not_member PASSED    [ 33%]
tests/channel_leave_http_test.py::test_http_owner_leave PASSED           [ 33%]
tests/channel_leave_http_test.py::test_http_user_leave PASSED            [ 34%]
tests/channel_leave_http_test.py::test_http_swap_and_leave_owner PASSED  [ 34%]
tests/channel_leave_test.py::test_invalid_channel_id PASSED              [ 35%]
tests/channel_leave_test.py::test_invalid_token PASSED                   [ 35%]
tests/channel_leave_test.py::test_user_is_not_member PASSED              [ 36%]
tests/channel_leave_test.py::test_owner_leave PASSED                     [ 36%]
tests/channel_leave_test.py::test_user_leave PASSED                      [ 36%]
tests/channel_leave_test.py::test_swap_and_leave_owner PASSED            [ 37%]
tests/channel_list_http_test.py::test_http_list_basic PASSED             [ 37%]
tests/channel_list_http_test.py::test_http_invalid_token PASSED          [ 38%]
tests/channel_list_http_test.py::test_http_list_multiple PASSED          [ 38%]
tests/channel_list_test.py::test_nonexistent_auth_uid PASSED             [ 39%]
tests/channel_list_test.py::test_no_channels PASSED                      [ 39%]
tests/channel_list_test.py::test_no_channels_for_user PASSED             [ 40%]
tests/channel_list_test.py::test_single_channel PASSED                   [ 40%]
tests/channel_list_test.py::test_multiple_channels PASSED                [ 40%]
tests/channel_messages_http_test.py::test_single_message PASSED          [ 41%]
tests/channel_messages_http_test.py::test_basic_message_return PASSED    [ 41%]
tests/channel_messages_http_test.py::test_total_messages_is_zero PASSED  [ 42%]
tests/channel_messages_http_test.py::test_total_messages_is_less_than_50 PASSED [ 42%]
tests/channel_messages_http_test.py::test_total_messages_is_50 PASSED    [ 43%]
tests/channel_messages_http_test.py::test_invalid_channel_id PASSED      [ 43%]
tests/channel_messages_http_test.py::test_start_more_than_total_messages PASSED [ 44%]
tests/channel_messages_http_test.py::test_channel_id_and_auth_user_id_invalid PASSED [ 44%]
tests/channel_messages_http_test.py::test_auth_user_id_not_member_of_channel PASSED [ 44%]
tests/channel_messages_test.py::test_start_more_than_total_messages PASSED [ 45%]
tests/channel_messages_test.py::test_channel_id_not_valid PASSED         [ 45%]
tests/channel_messages_test.py::test_auth_user_id_not_member_of_channel PASSED [ 46%]
tests/channel_messages_test.py::test_channel_id_and_auth_user_id_invalid PASSED [ 46%]
tests/channel_removeowner_http_test.py::test_http_invalid_channel_id PASSED [ 47%]
tests/channel_removeowner_http_test.py::test_invalid_user_id PASSED      [ 47%]
tests/channel_removeowner_http_test.py::test_http_non_exist_user PASSED  [ 48%]
tests/channel_removeowner_http_test.py::test_http_remove_only_owner PASSED [ 48%]
tests/channel_removeowner_http_test.py::test_http_no_permission PASSED   [ 48%]
tests/channel_removeowner_http_test.py::test_http_channel_removeowner_basic PASSED [ 49%]
tests/channel_removeowner_test.py::test_invalid_channel_id PASSED        [ 49%]
tests/channel_removeowner_test.py::test_invalid_user_id PASSED           [ 50%]
tests/channel_removeowner_test.py::test_non_exist_user PASSED            [ 50%]
tests/channel_removeowner_test.py::test_remove_only_owner PASSED         [ 51%]
tests/channel_removeowner_test.py::test_no_permission PASSED             [ 51%]
tests/channel_removeowner_test.py::test_channel_removeowner_basic PASSED [ 52%]
tests/channels_create_http_test.py::test_http_channels_create_basic PASSED [ 52%]
tests/channels_create_http_test.py::test_http_invalid_channel_name PASSED [ 52%]
tests/channels_create_http_test.py::test_http_create_multiples PASSED    [ 53%]
tests/channels_create_test.py::test_channel_type PASSED                  [ 53%]
tests/channels_create_test.py::test_create_multiple_channels PASSED      [ 54%]
tests/channels_create_test.py::test_no_channel_name PASSED               [ 54%]
tests/channels_create_test.py::test_invalid_user_id PASSED               [ 55%]
tests/channels_create_test.py::test_invalid_channel_name_short PASSED    [ 55%]
tests/channels_create_test.py::test_invalid_channel_name_long PASSED     [ 56%]
tests/channels_listall_http_test.py::test_http_list_basic PASSED         [ 56%]
tests/channels_listall_http_test.py::test_http_invalid_token PASSED      [ 56%]
tests/channels_listall_http_test.py::test_http_list_multiple PASSED      [ 57%]
tests/channels_listall_test.py::test_nonexistent_auth_uid PASSED         [ 57%]
tests/channels_listall_test.py::test_no_channels PASSED                  [ 58%]
tests/channels_listall_test.py::test_multiple_channels PASSED            [ 58%]
tests/channels_listall_test.py::test_channels_without_user PASSED        [ 59%]
tests/clear_test.py::test_return_type PASSED                             [ 59%]
tests/clear_test.py::test_clear_user PASSED                              [ 60%]
tests/clear_test.py::test_clear_channel PASSED                           [ 60%]
tests/clear_test.py::test_clear_message PASSED                           [ 60%]
tests/dm_create_http_test.py::test_http_dm_create_basic PASSED           [ 61%]
tests/dm_create_http_test.py::test_http_invalid_user_id PASSED           [ 61%]
tests/dm_create_http_test.py::test_http_one_member PASSED                [ 62%]
tests/dm_create_http_test.py::test_http_invalid_auth_user_token PASSED   [ 62%]
tests/dm_create_test.py::test_invalid_user_id PASSED                     [ 63%]
tests/dm_create_test.py::test_invalid_auth_user_id PASSED                [ 63%]
tests/dm_create_test.py::test_dm_create_basic PASSED                     [ 64%]
tests/dm_create_test.py::test_dm_create_only_creator PASSED              [ 64%]
tests/dm_details_http_test.py::test_http_details_multiple_members PASSED [ 64%]
tests/dm_details_http_test.py::test_http_invalid_dm_id PASSED            [ 65%]
tests/dm_details_http_test.py::test_http_not_member PASSED               [ 65%]
tests/dm_details_http_test.py::test_http_details_multiple_dms PASSED     [ 66%]
tests/dm_leave_v1_http_test.py::test_dm_owner_leave PASSED               [ 66%]
tests/dm_leave_v1_http_test.py::test_dm_not_owner_leave PASSED           [ 67%]
tests/dm_leave_v1_http_test.py::test_dm_everyone_leave PASSED            [ 67%]
tests/dm_leave_v1_http_test.py::test_dm_leave_invalid_user PASSED        [ 68%]
tests/dm_leave_v1_http_test.py::test_dm_leave_invalid_dm_id PASSED       [ 68%]
tests/dm_list_v1_http_test.py::test_invalid_token PASSED                 [ 68%]
tests/dm_list_v1_http_test.py::test_no_dms PASSED                        [ 69%]
tests/dm_list_v1_http_test.py::test_basic PASSED                         [ 69%]
tests/dm_list_v1_http_test.py::test_multiple_dms PASSED                  [ 70%]
tests/dm_messages_http_test.py::test_single_message PASSED               [ 70%]
tests/dm_messages_http_test.py::test_basic_message_return PASSED         [ 71%]
tests/dm_messages_http_test.py::test_total_messages_is_zero PASSED       [ 71%]
tests/dm_messages_http_test.py::test_total_messages_is_less_than_50 PASSED [ 72%]
tests/dm_messages_http_test.py::test_total_messages_is_50 PASSED         [ 72%]
tests/dm_messages_http_test.py::test_invalid_channel_id PASSED           [ 72%]
tests/dm_messages_http_test.py::test_start_more_than_total_messages PASSED [ 73%]
tests/dm_messages_http_test.py::test_channel_id_and_auth_user_id_invalid PASSED [ 73%]
tests/dm_messages_http_test.py::test_auth_user_id_not_member_of_dm PASSED [ 74%]
tests/message_edit_http_test.py::test_msg_ed_invalid_length_too_long_html PASSED [ 74%]
tests/message_edit_test.py::test_msg_ed_invalid_input_length PASSED      [ 75%]
tests/message_remove_http_test.py::test_msg_rm_invalid_msg_id PASSED     [ 75%]
tests/message_remove_http_test.py::test_msg_rm_invalid_msg_id_2 PASSED   [ 76%]
tests/message_remove_test.py::test_msg_rm_repeated PASSED                [ 76%]
tests/message_remove_test.py::test_msg_rm_invalid_msg_id_1 PASSED        [ 76%]
tests/message_remove_test.py::test_msg_rm_invalid_msg_id_2 PASSED        [ 77%]
tests/message_remove_test.py::test_msg_rm_unauthed PASSED                [ 77%]
tests/message_send_http_test.py::test_msg_test_normal PASSED             [ 78%]
tests/message_send_http_test.py::test_msg_invalid_length_too_long PASSED [ 78%]
tests/message_send_http_test.py::test_msg_invalid_length_too_short PASSED [ 79%]
tests/message_send_http_test.py::test_msg__invalid_auth_id_http PASSED   [ 79%]
tests/message_send_test.py::test_msg__invalid_input_length PASSED        [ 80%]
tests/message_send_test.py::test_msg_invalid_channel_id PASSED           [ 80%]
tests/message_send_test.py::test_msg__invalid_auth_id PASSED             [ 80%]
tests/message_senddm_html_test.py::test_dm_normal PASSED                 [ 81%]
tests/message_senddm_html_test.py::test_dm_invalid_length_too_short PASSED [ 81%]
tests/message_senddm_html_test.py::test_dm_invalid_length_too_long PASSED [ 82%]
tests/message_senddm_html_test.py::test_dm__invalid_auth_id_http PASSED  [ 82%]
tests/message_senddm_test.py::test_dm_invalid_input_length PASSED        [ 83%]
tests/message_senddm_test.py::test_dm_invalid_dm_id PASSED               [ 83%]
tests/message_senddm_test.py::test_dm_invalid_auth_id PASSED             [ 84%]
tests/user_permission_change_v1_http_test.py::test_invalid_token PASSED  [ 84%]
tests/user_permission_change_v1_http_test.py::test_invalid_uid PASSED    [ 84%]
tests/user_permission_change_v1_http_test.py::test_last_global PASSED    [ 85%]
tests/user_permission_change_v1_http_test.py::test_invalid_permission PASSED [ 85%]
tests/user_permission_change_v1_http_test.py::test_token_not_global PASSED [ 86%]
tests/user_permission_change_v1_http_test.py::test_basic PASSED          [ 86%]
tests/user_profile_setemail_http_test.py::test_http_setemail_once PASSED [ 87%]
tests/user_profile_setemail_http_test.py::test_http_setemail_twice PASSED [ 87%]
tests/user_profile_setemail_http_test.py::test_http_setemail_different_users PASSED [ 88%]
tests/user_profile_setemail_http_test.py::test_http_channel_member_setemail PASSED [ 88%]
tests/user_profile_setemail_http_test.py::test_http_invalid_setemail PASSED [ 88%]
tests/user_profile_setemail_http_test.py::test_http_invalid_setemail_duplicate PASSED [ 89%]
tests/user_profile_sethandle_http_test.py::test_http_sethandle_once PASSED [ 89%]
tests/user_profile_sethandle_http_test.py::test_http_sethandle_twice PASSED [ 90%]
tests/user_profile_sethandle_http_test.py::test_http_sethandle_different_users PASSED [ 90%]
tests/user_profile_sethandle_http_test.py::test_http_channel_member_sethandle PASSED [ 91%]
tests/user_profile_sethandle_http_test.py::test_http_invalid_sethandle_char_length PASSED [ 91%]
tests/user_profile_sethandle_http_test.py::test_http_invalid_sethandle_alphanum PASSED [ 92%]
tests/user_profile_sethandle_http_test.py::test_http_invalid_sethandle_duplicate PASSED [ 92%]
tests/user_profile_setname_http_test.py::test_http_setname_once PASSED   [ 92%]
tests/user_profile_setname_http_test.py::test_http_setname_twice PASSED  [ 93%]
tests/user_profile_setname_http_test.py::test_http_setname_different_users PASSED [ 93%]
tests/user_profile_setname_http_test.py::test_http_channel_member_setname PASSED [ 94%]
tests/user_profile_setname_http_test.py::test_http_invalid_setname_first PASSED [ 94%]
tests/user_profile_setname_http_test.py::test_http_invalid_setname_last PASSED [ 95%]
tests/user_profile_v1_http_test.py::test_http_multiple_profile PASSED    [ 95%]
tests/user_profile_v1_http_test.py::test_http_only_profile PASSED        [ 96%]
tests/user_profile_v1_http_test.py::test_http_profile_u_id_invlaid PASSED [ 96%]
tests/user_remove_v1_http_test.py::test_invalid_token PASSED             [ 96%]
tests/user_remove_v1_http_test.py::test_invalid_uid PASSED               [ 97%]
tests/user_remove_v1_http_test.py::test_last_global PASSED               [ 97%]
tests/user_remove_v1_http_test.py::test_token_not_global PASSED          [ 98%]
tests/user_remove_v1_http_test.py::test_basic PASSED                     [ 98%]
tests/users_all_v1_http_test.py::test_invalid_token PASSED               [ 99%]
tests/users_all_v1_http_test.py::test_single_user PASSED                 [ 99%]
tests/users_all_v1_http_test.py::test_multiple_users PASSED              [100%]

====== Marks recorded: 225.00 ======


============================= 225 passed in 16.60s =============================
